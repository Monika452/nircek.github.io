---
---
@mixin media-query($min: 0, $max: 0, $orientation: 0) {
  $query: "only screen";
  @if $min != 0 { $query: $query + " and (min-width: #{$min})"; }
  @if $max != 0 { $query: $query + " and (max-width: #{$max})"; }
  @if $orientation != 0 { $query: $query + " and (orientation: #{$orientation})"; }
  @media #{$query} { @content; }
}
@mixin phone($orientation: 0) {
  @include media-query(0, 600px, $orientation) {
    @content;
  }
}
@mixin tablet($orientation: 0) {
  @include media-query(0, 900px, $orientation) {
    @content;
  }
}
@mixin monitor($orientation: 0) {
  @include media-query(901px, $orientation) {
    @content;
  }
}

@function random-color(){
  @return rgb(random(255), random(255), random(255));
}

$deploy-color: random-color();

:root {
  /* math magic useless stuff */
  --sqrt-2: 1.4142135623730951;
  --sqrt-3: 1.7320508075688772;
  --sqrt-5: 2.23606797749979;
  --fi: calc((1 + var(--sqrt-5)) / 2);
  --fi-a: calc(1 / var(--fi) * 100%);
  --fi-b: calc(100% - var(--fi-a));
  --fi-c: calc(var(--fi-a) - var(--fi-b));

  /* actual sizes */
  --margin: 8px;
  @include tablet {--margin:4px;} @include phone {--margin:2px;}
  --margin-2: calc(var(--margin) * 2);
  --margin-4: calc(var(--margin) * 2);

  --width: 100vw;
  --circle-radius: 50vmin;
  @include tablet {--circle-radius: 60vmin;} @include phone(portrait) {--circle-radius: 70vmin;}
  --circle-border-size: 10px;
  @include tablet {--circle-border-size: 8px;} @include phone {--circle-border-size: 6px;}
  --info-cover: .1;
  --info-covering: calc(-2 * var(--circle-radius) * var(--info-cover));
  --info-size: 8vmin;
  @include tablet {--info-size: 12vmin;} @include phone(portrait) {--info-size: 16vmin;}
  --desc-size: .5em;
  @include tablet {--desc-size: .4em;} @include phone {--desc-size: .3em;}
  --stroke-width: 2px;

  --glider-number: 12;
  @include tablet {--glider-number: 9;} @include phone {--glider-number: 6;}
  --glider-size: calc(var(--width) / var(--glider-number));
  --glider-position: calc((100vw - var(--width)) / 2) calc(var(--circle-radius)/2 + var(--circle-border-size) + var(--margin) - var(--glider-size)/2);

  --main-font-size: 1.5vw;
  @include tablet {--main-font-size: 2.3vw;} @include phone {--main-font-size: 2vw;}
  --main-width: 64ch;

  /* ribbon */
  --ribbon-fg: #fff;
  --ribbon-bg: #c32;
  --ribbon-bg-2: #b21;
  --ribbon-bg-3: #a10;
  --ribbon-width: 1.3em;
  --ribbon-extra-length: 0.7em;
  @include phone {--ribbon-extra-length: .2em;}
  --further-scale: 0.7;
  @include phone {--further-scale: 0;}
  --further-width: calc(var(--ribbon-width) * var(--further-scale));
  --further-bottom: -.7em;
  --further-length: .4em;
  @include phone {--further-length: 0;}
}
html {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
      display: none;
  }
  body {
    margin: 0;
    overflow-x: hidden;
    font-family: 'Blinker', sans-serif;
    background-color: #276;
  }
}
#container {
    width: var(--width);
    margin-left: auto;
    margin-right: auto;
	header {

		#gliders {
      margin: 0;
      background: #ccc url(../img/glider.svg) repeat-x fixed;
      background-size: calc(var(--glider-size));
      background-position: var(--glider-position);
      padding: var(--margin);
			#circle {

				img {
          width: var(--circle-radius);
          height: var(--circle-radius);
          display: block;
          margin-left: auto;
          margin-right: auto;
          border-radius: 50%;
          border: black var(--circle-border-size) solid;
          position: relative;
				}
			}
		}

		article {
      margin: 0;
      text-align: center;
      font-size: var(--info-size);
      margin-top: var(--info-covering);
      padding-top: calc(-1 * var(--info-covering));
      background-color: #666;
			h1 {
        font-weight: 700;
        -webkit-text-fill-color: black;
        -webkit-text-stroke-color: white;
        -webkit-text-stroke-width: var(--stroke-width);
			}

			h2 {
        color: #eee;
        font-size: 0.5em;
        font-weight: 300;
			}

			section {
        margin-top: 1rem;
        padding: 1vw;
        width: calc(100% - 2vw);
        background-color: #567;
				p {
          font-size: var(--desc-size);
          display: block;
          margin: 0 auto 0 auto;
          color: #abc;
          letter-spacing: .1em;
          text-align: center;
				}
			}
		}
	}

	main {
    font-family: "Source Code Pro", monospace;
    font-size: var(--main-font-size);
    line-height: 115%;
    background-color: #ccc;
    color: #000;
    width: var(--main-width);
    padding: 1em;
    margin: auto;
    a {
      color: #a00;
      text-decoration: inherit;
      font-weight: 900;
    }
		article {

			header {

        h1 {
          /* modified https://codepen.io/JJimmyFlynn/pen/bkGIL code by John Flynn (@JJimmyFlynn) */
          position: relative;
          margin: 1em calc(-.5em - var(--ribbon-extra-length));
          padding: calc(var(--ribbon-width) - var(--main-font-size));

          text-align: center;
          font-size: calc(var(--main-font-size) * 2);
          letter-spacing: 3px;

          color: var(--ribbon-fg);
          background-color: var(--ribbon-bg);

          &:before, &:after {
            content: "";
            position: absolute;
            display: block;
            bottom: var(--further-bottom);
            border: var(--further-width) solid var(--ribbon-bg-2);;
            z-index: -2;
          }
          &:before {
            left: calc(-1 * var(--further-width) - var(--further-length));
            border-right-width: calc(1em  + var(--further-length));
            border-left-color: transparent;
          }
          &:after {
            right: calc(-1 * var(--further-width) - var(--further-length));
            border-left-width: calc(1em  + var(--further-length));
            border-right-color: transparent;
          }
          strong {
            &:before, &:after {
            content: "";
            position: absolute;
            bottom: calc(var(--further-bottom) + .01em);
            border-style: solid;
            border-color: var(--ribbon-bg-3) transparent transparent transparent;
            z-index: -1;
            }
            &:before {
              left: 0;
              border-width: calc(var(--further-bottom) * -1) 0 0 1em;
            }
            &:after {
              right: 0;
              border-width: calc(var(--further-bottom) * -1) 1em 0 0;
            }
          }
        }
			}
      .fas {

      }
      .about-sep-val:before {
        content: ":\00a0";
        font-style: normal;
      }
      .about-sep-sel:before {
        content: ";";
        font-style: normal;
      }
      .about-sep-sep:before {
        content: ",";
        font-style: normal;
      }
      .comment {
        &:before {
          content: "//";
        }
        color: #666;
        font-style: italic;
      }
			.tab {
          margin-left: 4ch;
			}
		}
	}

	footer {

	}
}

#debug {
  padding: 3px;
  position: fixed;
  top: 10px;
  left: 10px;
  border: $deploy-color solid 5px;
  &:after {
    content: "#{$deploy-color}";
  }
  background-color: white;
  @include monitor {background-color: lightgreen;} @include tablet {background-color: yellow;} @include phone {background-color: red;} @include phone(portrait) {background-color: orange;}
  display: /**/block/*/ none /*/;
  /*
    To switch display you should only remove or add first asterisk
  */
}
